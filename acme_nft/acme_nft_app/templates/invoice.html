{% load static %}

{% block extrahead %}
    <link rel="stylesheet" href="{% static 'css/global.css' %}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <meta charset="UTF-8">

{% endblock %}

{% block content %}
    <div class="container">

        <div class="row">
            <div class="col-12">
                <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiSPX_5X5gmteR1FVWqNJgRy0RyOl6x_IvAAiVT2SXP8wiCc2ibJVkyj5oqoDoQ1AJ6cGU2Pm9KaqwJZ2Cuc-UmThzrdrluaO8_GtZDr56fSxZ9q9tevyF2ZnKS5bIaC7D-MqNiWqblXS40rkU31AnzX_bVjLpJ9juesUX9HRFdRrVRZoeBW-1sUxFrtA/w1684-h1069-p-k-no-nu/logo.png"
                     alt="logo" width="130" height="100">
            </div>
        </div>


        <div class="row">

            <div class="row justify-content-center">
                <div class="col" style="float: none">
                    <div class="cart rounded"
                         style="border-radius: 2px; border-color: rgb(84, 22, 183)">
                        <h3 style="background-color: rgb(84, 22, 183); color: white">
                            Datos de la empresa
                        </h3>
                        <p>Acme NFT Inc</p>
                        <p>Avenida Reina Mercedes s/n, 41012 Sevilla</p>
                    </div>
                </div>
                <div class="col">
                    <div class="cart rounded"
                         style="border-radius: 2px; border-color: rgb(84, 22, 183)">
                        <h3 style="background-color: rgb(84, 22, 183); color: white">
                            Datos del cliente
                        </h3>
                        <p>{{ client.name }}</p>
                        <p>{{ client.email }}</p>
                        <p></p>
                    </div>
                </div>
            </div>

            <h1 class="card-title">Factura Pedido #{{ order_reference }}</h1>
            <div class="col">
                <div class="div-resumen rounded">
                    <table class="table rounded"
                           aria-label="Tabla de resumen de pedidos"
                           style="border: 1px solid black; rgb(84, 22, 183)">
                        <thead class="head">
                        <tr style="border: 1px solid black; rgb(84, 22, 183)">
                            <th style="border: 1px solid black; rgb(84, 22, 183)"
                                scope="col">Producto
                            </th>
                            <th style="border: 1px solid black; rgb(84, 22, 183)"
                                scope="col">Precio/ud
                            </th>
                            <th style="border: 1px solid black; rgb(84, 22, 183)"
                                scope="col">Cantidad
                            </th>
                            <th style="border: 1px solid black; rgb(84, 22, 183)"
                                scope="col">Total
                            </th>
                        </thead>
                        <tbody>
                        {% for item in products %}
                            <tr style="border: 1px solid black; rgb(84, 22, 183)">
                                <td style="border: 1px solid black; rgb(84, 22, 183)">{{ item.product.name }}</td>
                                {% if item.product.offer_price != None %}

                                    <td>{{ item.product.offer_price|floatformat:2 }}€</td>

                                {% else %}

                                    <td>{{ item.product.price|floatformat:2 }}€</td>

                                {% endif %}
                                <td style="border: 1px solid black; rgb(84, 22, 183)">{{ item.quantity }}</td>
                                <td style="border: 1px solid black; rgb(84, 22, 183)">
                                    {{ item.total }} €
                                </td>
                            </tr>
                        {% endfor %}
                        <tr>
                            <td style="color: white"> _</td>
                            <td style="color: white"> _</td>
                            <
                            <td style="color: white"> _</td>
                            <td style="border: 1px solid black; rgb(84, 22, 183)">{{ total }} €</td>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row mt-lg-5">
            <div class="col">
                <div class="div-resumen rounded">
                    <table class="table rounded"
                           aria-label="Tabla de resumen de pagos y envio"
                           style="border: 1px solid black; rgb(84, 22, 183)">
                        <thead class="head">
                        <tr style="border: 1px solid black; rgb(84, 22, 183)">
                            <th style="border: 1px solid black; rgb(84, 22, 183)"
                                scope="col">M&eacutetodo de pago
                            </th>
                            <th style="border: 1px solid black; rgb(84, 22, 183)"
                                scope="col">Direcci&oacuten de
                                facturaci&oacuten
                            </th>
                        </thead>
                        <tbody>
                        <tr style="border: 1px solid black; rgb(84, 22, 183)">
                            <td style="border: 1px solid black; rgb(84, 22, 183)">{{ pay }}</td>
                            <td style="border: 1px solid black; rgb(84, 22, 183)">{{ address }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

{% endblock %}